//
import 'dart:async';
import 'dart:typed_data';

import 'package:flutter/scheduler.dart';
import 'package:flutter/widgets.dart';
import 'package:medallia_dxa/src/uf369047318.dart';
import 'package:medallia_dxa/src/wsu17385396.dart';
import 'package:medallia_dxa/src/ga389194540.dart';
import 'package:medallia_dxa/src/dth757554175.dart';
import 'package:medallia_dxa/src/eu420442920.dart';
import 'package:medallia_dxa/src/bh465455339.dart';
import 'package:medallia_dxa/src/kw586793365.dart';
import 'package:medallia_dxa/src/ke674085959.dart';
import 'package:medallia_dxa/src/m806889542.dart';
import 'package:medallia_dxa/src/kr371803491.dart';
import 'package:medallia_dxa/src/s487303636.dart';
import 'package:medallia_dxa/src/xe758138268.dart';
import 'package:medallia_dxa/src/duk534491926.dart';
import 'package:medallia_dxa/src/sjx64670669.dart';
import 'package:medallia_dxa/src/mry764152131.dart';
import 'package:medallia_dxa/src/wma372442807.dart';

class Xp87340945 extends D142571380 with Nte141980284 {
  Xp87340945({
    required U187482259 do1052757295,
    required Xqk204009292 cr674120548,
    required Iqa170397645 k238485547,
    required D404394652 y421585106,
  })  : _h346768833 = cr674120548,
        _qw555932455 = k238485547,
        _a383166226 = do1052757295,
        super(y421585106) {
    pp1049664666 = Timer.periodic(_qw555932455.j160989509, (_c594035945) async {
      await dt1031025228();
    });
    _yl577401827 =
        _h346768833.z801555839.stream.listen((rg217292474) {
      jg1030975634 = true;
    });
  }

  final Xqk204009292 _h346768833;
  final U187482259 _a383166226;
  late final StreamSubscription<Duration> _yl577401827;

  late final X764602990 _x679689782 =
      Fn583050702.gj892083529.j1001100927;
  late final V859069766 _ws768939910 =
      Fn583050702.gj892083529.j507880543;
  late final G733035650 _hm415102382 =
      Fn583050702.gj892083529.t190648482;
  late final Vqj394369271 _t1061097387 = Fn583050702.gj892083529.z751988261;
  late final Egt808718259 _c495391890 = Fn583050702.gj892083529.w594444545;
  late final Gu629108887 _nr748964598 =
      Fn583050702.gj892083529.s962720102;
  late final I672745776 _ir387655266 =
      Fn583050702.gj892083529.dgh387024581;
  late final WidgetsBinding _kog657053331 =
      Fn583050702.gj892083529.qb759433054;
  late final SchedulerBinding _rnz346471015 =
      Fn583050702.gj892083529.hd995494132;
  late final Fp344142293 _h237360200 =
      Fn583050702.gj892083529.rz946289942;
  final Iqa170397645 _qw555932455;
  late final W1047663466 _otj750376539 = Fn583050702.gj892083529.vk653426561;
  @visibleForTesting
  late Timer pp1049664666;
  bool _iyd404421171 = false;
  bool _cqk61225768 = false;
  bool get _xoi701932328 => _otj750376539.s436425128 != null;

  //
  X686664581 get _n927016373 {
    return _otj750376539.s436425128!;
  }

  @visibleForTesting
  bool jg1030975634 = false;
  @visibleForTesting
  bool get phx968984361 => jg1030975634;
  set phx968984361(bool etz873119437) {
    jg1030975634 = etz873119437;
    if (!etz873119437) {
      _h346768833.c333852247();
    }
  }

  void _q741702521() {
    if (_iyd404421171) return;
    _iyd404421171 = true;
    _kog657053331.addPostFrameCallback((_c594035945) async {
      _iyd404421171 = false;
      await _tbt773877958();
    });
  }

  Future<void> ql306345744() async {
    phx968984361 = true;
    await dt1031025228();
  }

  Future<void> vh260696184() async {
    await _tbt773877958();
  }

  void c163679253() {
    if (pp1049664666.isActive) return;
    pp1049664666 = Timer.periodic(_qw555932455.j160989509, (_c594035945) async {
      await dt1031025228();
    });
  }

  void f689591892() {
    pp1049664666.cancel();
  }

  void _pa104659433() {
    _yl577401827.cancel();
    _h346768833.ul326102424();
  }

  void al145213627() {
    _c495391890.ki916996059();
  }

  Future<void> dt1031025228() async {
    if (!phx968984361) return;
    return _tbt773877958();
  }

  //
  void _cq848452672() async {
    await _x679689782.b307149103();
    await _tbt773877958();
  }

  Future<void> _tbt773877958() async {
    if (!_ws768939910.iv740509304) return;
    if (_hm415102382.v101453651) return;
    if (!_xoi701932328) return;
    if (_x679689782.ewz878559963) {
      _cq848452672();
      return;
    }
    if (_otj750376539.s602844839) {
      return _q741702521();
    }
    final X686664581 u531813487 = _n927016373;
    if (_otj750376539.j134584084(u531813487)) {
      return;
    }

    if (u531813487.eq986357661.last
            .h588000781()
            .nc304973274 ==
        null) {
      _q741702521();
      return;
    }
    if (!_hm415102382.rg884418130) {
      return _rj1062210810(
        tu662083465: u531813487,
        tv305047378: Ado433202498(
          t876938128: Z72708462.hu783797895,
        ),
      );
    }
    if (!u531813487.rg884418130) {
      final Z72708462 t876938128 =
          u531813487.t876938128 ??
              Z72708462.r717759539;
      return _rj1062210810(
        tu662083465: u531813487,
        tv305047378: Ado433202498(
          t876938128: t876938128,
        ),
      );
    }
    if (_h237360200.ar676812728) {
      return _rj1062210810(
        tu662083465: u531813487,
        tv305047378: Ado433202498(
          t876938128: _h237360200.mb256798611,
        ),
      );
    }

    if (_cqk61225768) return;

    //
    //
    //
    if (_rnz346471015.schedulerPhase == SchedulerPhase.idle) {
      _cqk61225768 = true;
      await _kog657053331.endOfFrame;
      _cqk61225768 = false;
      if (!_xoi701932328) return;
      if (_otj750376539.s602844839) {
        return _q741702521();
      }
    }
    if (!zb276414814) {
      _q741702521();
      return;
    }
    if (_x679689782.qc146328090 > 0) {
      return;
    }
    final int c13583842 = u531813487.giq161819060;
    final String jan526227271 = u531813487.iwu652311883;
    int? pmp152847561;
    if (u531813487.kl229772891.isEmpty) {
      pmp152847561 = u531813487.v212009461;
    }
    pmp152847561 ??= DateTime.now().millisecondsSinceEpoch;
    late final ByteData? ru323108305;
    try {
      ru323108305 = await _a383166226.nej533881630(
        tu662083465: u531813487,
        uc269944784: () => phx968984361 = false,
        lsd981024160: _q741702521,
        mk954940008: (og5430520) => _nr748964598.qq16226588 = og5430520,
      );
    } on G901570245 catch (e) {
      debugPrint(e.v172461352);
      return;
    }
    if (ru323108305 == null) return;
    await _sw480728549(
      ru323108305.buffer.asUint8List(),
      c13583842,
      jan526227271,
      pmp152847561,
      u531813487,
    );
  }

  Future<void> _sw480728549(
    Uint8List pgn238766869,
    int t228738835,
    String x343814208,
    int pmp152847561,
    X686664581 tu662083465, {
    bool v450169604 = false,
  }) async {
    tu662083465.kl229772891.add(
      G627939612(
        pgn238766869: pgn238766869,
        t228738835: t228738835,
        x343814208: x343814208,
        pmp152847561: pmp152847561,
        v450169604: v450169604,
      ),
    );
    _t1061097387.rw141629106(
      F355691925.llr380882947,
      'Save screenshot - screenName: $x343814208 - screenId: $t228738835 - startFocusTime: $pmp152847561',
    );
    await _ir387655266.kdx521093544(
      pgn238766869: pgn238766869,
      t228738835: t228738835,
      x343814208: x343814208,
      pmp152847561: pmp152847561,
      v450169604: v450169604,
    );
  }

  Future<void> _rj1062210810({
    required X686664581 tu662083465,
    required Ado433202498 tv305047378,
    int? k489873512,
  }) async {
    return ju376892273(() async {
      //
      //
      if (tu662083465.kl229772891.isNotEmpty &&
          tu662083465.kl229772891.last.v450169604) {
        return;
      }
      final ByteData nq629039713 =
          await _nr748964598.odq817361290(
        tv305047378,
      );

      final int pmp152847561 =
          k489873512 ?? DateTime.now().millisecondsSinceEpoch;

      _t1061097387.rw141629106(
        F355691925.io577030020,
        '''
      Save placeholder image for 
      screenName: ${tu662083465.iwu652311883} - 
      screenId: ${tu662083465.giq161819060} -
      text: ${tv305047378.gd266286487()}
      ''',
      );

      await _sw480728549(
        nq629039713.buffer.asUint8List(),
        tu662083465.giq161819060,
        tu662083465.iwu652311883,
        pmp152847561,
        tu662083465,
        v450169604: true,
      );
    });
  }

  bool get zb276414814 {
    bool bk669941425 = true;
    try {
      _rnz346471015.currentFrameTimeStamp;
    } catch (e) {
      if (_rnz346471015.hasScheduledFrame) {
        bk669941425 = false;
      }
    }
    return bk669941425;
  }

  @override
  void ul326102424() {
    _pa104659433();
    f689591892();
  }
}
