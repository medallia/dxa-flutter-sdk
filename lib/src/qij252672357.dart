//
import 'dart:async';
import 'dart:typed_data';

import 'package:flutter/scheduler.dart';
import 'package:flutter/widgets.dart';
import 'package:medallia_dxa/src/bdg151964329.dart';
import 'package:medallia_dxa/src/bka7916544.dart';
import 'package:medallia_dxa/src/d290553722.dart';
import 'package:medallia_dxa/src/hi879958640.dart';
import 'package:medallia_dxa/src/xa857696726.dart';
import 'package:medallia_dxa/src/jpf451565684.dart';
import 'package:medallia_dxa/src/os230685836.dart';
import 'package:medallia_dxa/src/j209815705.dart';
import 'package:medallia_dxa/src/g131648959.dart';
import 'package:medallia_dxa/src/hfo173740557.dart';
import 'package:medallia_dxa/src/d452802285.dart';
import 'package:medallia_dxa/src/x248600066.dart';
import 'package:medallia_dxa/src/q439716601.dart';
import 'package:medallia_dxa/src/qyl955933525.dart';
import 'package:medallia_dxa/src/rn255041681.dart';
import 'package:medallia_dxa/src/fg966267642.dart';

class Am87340452 extends By142570817 with Sdf141979721 {
  Am87340452({
    required D187482790 wvc1052757786,
    required X204008825 gra674120017,
    required C170397176 er238486046,
    required Xhs404394153 db421585639,
  })  : _z346769396 = gra674120017,
        _kg555931922 = er238486046,
        _z383165735 = wvc1052757786,
        super(db421585639) {
    fk1049665199 = Timer.periodic(_kg555931922.qku160990064, (_rwo594036444) async {
      await gs1031024761();
    });
    _ce577401302 =
        _z346769396.r801556298.stream.listen((e217291919) {
      tw1030976167 = true;
    });
  }

  final X204008825 _z346769396;
  final D187482790 _z383165735;
  late final StreamSubscription<Duration> _ce577401302;

  late final U764602459 _z679689219 =
      K583051259.y892084092.ehg1001100362;
  late final Ri859070323 _ple768939443 =
      K583051259.y892084092.f507881066;
  late final Dgg733036215 _s415102875 =
      K583051259.y892084092.rtm190648983;
  late final S394369730 _mc1061096862 = K583051259.y892084092.uqz751987728;
  late final G808717702 _sia495392423 = K583051259.y892084092.gd594445108;
  late final Mb629109410 _x748964035 =
      K583051259.y892084092.li962720595;
  late final E672746245 _ghk387654743 =
      K583051259.y892084092.v387024112;
  late final WidgetsBinding _ffl657052838 =
      K583051259.y892084092.fx759432555;
  late final SchedulerBinding _k346470482 =
      K583051259.y892084092.ou995494593;
  late final Gqo344142816 _pq237360765 =
      K583051259.y892084092.c946290467;
  final C170397176 _kg555931922;
  late final Pf1047662943 _na750376046 = K583051259.y892084092.zal653426100;
  @visibleForTesting
  late Timer fk1049665199;
  bool _g404420614 = false;
  bool _up61225245 = false;
  bool get _c701931805 => _na750376046.oin436425629 != null;

  //
  T686664112 get _dy927016832 {
    return _na750376046.oin436425629!;
  }

  @visibleForTesting
  bool tw1030976167 = false;
  @visibleForTesting
  bool get hza968983836 => tw1030976167;
  set hza968983836(bool kuk873118968) {
    tw1030976167 = kuk873118968;
    if (!kuk873118968) {
      _z346769396.gdk333851746();
    }
  }

  void _eg741701964() {
    if (_g404420614) return;
    _g404420614 = true;
    _ffl657052838.addPostFrameCallback((_rwo594036444) async {
      _g404420614 = false;
      await _z773878515();
    });
  }

  Future<void> oq306345253() async {
    hza968983836 = true;
    await gs1031024761();
  }

  Future<void> l260696653() async {
    await _z773878515();
  }

  void wa163679776() {
    if (fk1049665199.isActive) return;
    fk1049665199 = Timer.periodic(_kg555931922.qku160990064, (_rwo594036444) async {
      await gs1031024761();
    });
  }

  void xo689591393() {
    fk1049665199.cancel();
  }

  void _aj104659932() {
    _ce577401302.cancel();
    _z346769396.e326102957();
  }

  void h145214094() {
    _sia495392423.cy916995566();
  }

  Future<void> gs1031024761() async {
    if (!hza968983836) return;
    return _z773878515();
  }

  //
  void _cod848453237() async {
    await _z679689219.y307149594();
    await _z773878515();
  }

  Future<void> _z773878515() async {
    if (!_ple768939443.brv740508749) return;
    if (_s415102875.ee101453158) return;
    if (!_c701931805) return;
    if (_z679689219.tj878559470) {
      _cod848453237();
      return;
    }
    if (_na750376046.j602844306) {
      return _eg741701964();
    }
    final T686664112 boa531813978 = _dy927016832;
    if (_na750376046.hv134583585(boa531813978)) {
      return;
    }

    if (boa531813978.fxk986357160.last
            .yom588000312()
            .q304973807 ==
        null) {
      _eg741701964();
      return;
    }
    if (!_s415102875.or884417639) {
      return _sim1062211279(
        jt662083004: boa531813978,
        o305046887: C433203063(
          w876937637: Hzm72708955.kcn783797426,
        ),
      );
    }
    if (!boa531813978.or884417639) {
      final Hzm72708955 w876937637 =
          boa531813978.w876937637 ??
              Hzm72708955.el717760006;
      return _sim1062211279(
        jt662083004: boa531813978,
        o305046887: C433203063(
          w876937637: w876937637,
        ),
      );
    }
    if (_pq237360765.isf676812173) {
      return _sim1062211279(
        jt662083004: boa531813978,
        o305046887: C433203063(
          w876937637: _pq237360765.ts256798118,
        ),
      );
    }

    if (_up61225245) return;

    //
    //
    //
    if (_k346470482.schedulerPhase == SchedulerPhase.idle) {
      _up61225245 = true;
      await _ffl657052838.endOfFrame;
      _up61225245 = false;
      if (!_c701931805) return;
      if (_na750376046.j602844306) {
        return _eg741701964();
      }
    }
    if (!pso276415339) {
      _eg741701964();
      return;
    }
    if (_z679689219.jyp146327599 > 0) {
      return;
    }
    final int daq13584343 = boa531813978.uj161819521;
    final String cm526226802 = boa531813978.m652312446;
    int? drx152848124;
    if (boa531813978.xlw229772398.isEmpty) {
      drx152848124 = boa531813978.qb212009920;
    }
    drx152848124 ??= DateTime.now().millisecondsSinceEpoch;
    late final ByteData? rz323108836;
    try {
      rz323108836 = await _z383165735.act533881131(
        jt662083004: boa531813978,
        u269944293: () => hza968983836 = false,
        u981024661: _eg741701964,
        a954939485: (er5430989) => _x748964035.bcp16227113 = er5430989,
      );
    } on Fc901569776 catch (e) {
      debugPrint(e.gbb172461853);
      return;
    }
    if (rz323108836 == null) return;
    await _ny480729040(
      rz323108836.buffer.asUint8List(),
      daq13584343,
      cm526226802,
      drx152848124,
      boa531813978,
    );
  }

  Future<void> _ny480729040(
    Uint8List x238766368,
    int y228738342,
    String iwp343814773,
    int drx152848124,
    T686664112 jt662083004, {
    bool t450169137 = false,
  }) async {
    jt662083004.xlw229772398.add(
      Zel627940137(
        x238766368: x238766368,
        y228738342: y228738342,
        iwp343814773: iwp343814773,
        drx152848124: drx152848124,
        t450169137: t450169137,
      ),
    );
    _mc1061096862.uhj141628551(
      Rh355692448.pm380883510,
      'Save screenshot - screenName: $iwp343814773 - screenId: $y228738342 - startFocusTime: $drx152848124',
    );
    await _ghk387654743.px521094045(
      x238766368: x238766368,
      y228738342: y228738342,
      iwp343814773: iwp343814773,
      drx152848124: drx152848124,
      t450169137: t450169137,
    );
  }

  Future<void> _sim1062211279({
    required T686664112 jt662083004,
    required C433203063 o305046887,
    int? cg489874013,
  }) async {
    return w376891716(() async {
      //
      //
      if (jt662083004.xlw229772398.isNotEmpty &&
          jt662083004.xlw229772398.last.t450169137) {
        return;
      }
      final ByteData m629039188 =
          await _x748964035.c817361855(
        o305046887,
      );

      final int drx152848124 =
          cg489874013 ?? DateTime.now().millisecondsSinceEpoch;

      _mc1061096862.uhj141628551(
        Rh355692448.o577029553,
        '''
      Save placeholder image for 
      screenName: ${jt662083004.m652312446} - 
      screenId: ${jt662083004.uj161819521} -
      text: ${o305046887.v266287010()}
      ''',
      );

      await _ny480729040(
        m629039188.buffer.asUint8List(),
        jt662083004.uj161819521,
        jt662083004.m652312446,
        drx152848124,
        jt662083004,
        t450169137: true,
      );
    });
  }

  bool get pso276415339 {
    bool uv669940868 = true;
    try {
      _k346470482.currentFrameTimeStamp;
    } catch (e) {
      if (_k346470482.hasScheduledFrame) {
        uv669940868 = false;
      }
    }
    return uv669940868;
  }

  @override
  void e326102957() {
    _aj104659932();
    xo689591393();
  }
}
